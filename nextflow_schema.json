{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://raw.githubusercontent.com/rmcolq/pantheon/main/nextflow_schema.json",
  "title": "rmcolq/pantheon",
  "description": "Metagenomic binning of single reads from both amplicon-targeted and shotgun metagenomics sequencing.",
  "url": "https://github.com/rmcolq/pantheon",
  "type": "object",
  "definitions": {
    "input_options": {
      "title": "Input Options",
      "type": "object",
      "fa_icon": "fas fa-terminal",
      "description": "Define where the pipeline should find input data and save output data.",
      "properties": {
        "run_dir": {
          "type": "string",
          "format": "path",
          "title": "RUN_DIR",
          "description": "A directory containing a directory of fastq for a each barcode in a run.",
          "help_text": "A directory containing subdirectories of fastq files for each barcode in a metagenomic run.",
          "demo_data": "test/test_data/"
        },
        "wf_dir": {
          "type": "string",
          "format": "path",
          "title": "WF_DIR",
          "description": "A directory the output and work subdirectories generated by wf-metagenomics.",
          "help_text": "A directory the output and work subdirectories generated by wf-metagenomics.",
          "demo_data": "test/test_data/barcode01"
        },
        "unique_id": {
          "type": "string",
          "title": "The unique ID for this sample or run",
          "description": "A unique ID for this sample or run."
        }
      },
      "oneOf": [
        {
          "required": [
            "run_dir",
            "wf_dir",
            "unique_id"
          ]
        },
        {
          "required": [
            "scylla_dir",
            "unique_id"
          ]
        }
      ]
        },
    "output_options": {
      "title": "Output Options",
      "type": "object",
      "description": "Parameters for saving and naming workflow outputs.",
      "default": "",
      "properties": {
        "outdir": {
          "type": "string",
          "format": "directory-path",
          "default": "output",
          "title": "Output folder name",
          "description": "Directory for output of all user-facing files."
        }
      }
    },
    "advanced_options": {
      "title": "Advanced Options",
      "type": "object",
      "description": "Advanced options for configuring processes inside the workflow.",
      "default": "",
      "properties": {
        "local": {
          "type": "boolean",
          "default": true,
          "title": "Use lower resources appropriate for local computer",
          "description": "Maximum number of CPU threads to use per workflow task.",
          "help_text": "This workflow will request HPC level resources unless this is checked."
        },
        "threads": {
          "type": "integer",
          "default": 2,
          "title": "Maximum number of CPU threads",
          "description": "Maximum number of CPU threads to use per workflow task.",
          "help_text": "Several tasks in this workflow benefit from using multiple CPU threads. This option sets the number of CPU threads for all such processes. The total CPU resource used by the workflow is constrained by the executor configuration. See server threads parameter for kraken specific threads."
        }
      }
    },
    "miscellaneous_options": {
      "title": "Miscellaneous Options",
      "type": "object",
      "fa_icon": "fas fa-file-import",
      "description": "Everything else.",
      "help_text": "These options are common to all nf-core pipelines and allow you to customise some of the core preferences for how the pipeline runs.\n\nTypically these options would be set in a Nextflow config file loaded for all pipeline runs, such as `~/.nextflow/config`.",
      "properties": {
        "help": {
          "type": "boolean",
          "title": "Display help text",
          "fa_icon": "fas fa-question-circle",
          "hidden": true
        },
        "version": {
          "type": "boolean",
          "title": "Display version",
          "description": "Display version and exit.",
          "fa_icon": "fas fa-question-circle",
          "hidden": true
        }
      }
    }
  },
  "allOf": [
    {
      "$ref": "#/definitions/input_options"
    },
    {
      "$ref": "#/definitions/output_options"
    },
    {
      "$ref": "#/definitions/advanced_options"
    },
    {
      "$ref": "#/definitions/miscellaneous_options"
    }
  ],
  "properties": {
    "aws_image_prefix": {
      "type": "string",
      "title": "AWS image prefix",
      "hidden": true
    },
    "aws_queue": {
      "type": "string",
      "title": "AWS queue",
      "hidden": true
    },
    "monochrome_logs": {
      "type": "boolean"
    },
    "validate_params": {
      "type": "boolean",
      "default": true
    },
    "show_hidden_params": {
      "type": "boolean"
    }
  },
  "docs": {
    "intro": "\n## Introduction\n\npantheon allows metagenomic reads to be binned by taxa and assembled: See quickstart below for more details.\n\n",
    "links": "## Useful links\n\n* [nextflow](https://www.nextflow.io/)\n* [docker](https://www.docker.com/products/docker-desktop)"
  }
}
